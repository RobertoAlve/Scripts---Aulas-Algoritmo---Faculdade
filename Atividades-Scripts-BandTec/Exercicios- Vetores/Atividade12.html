<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    RA do aluno: <input type="number" id="inputRaAluno">
    <br>
    Nota do aluno: <input type="number" id="inputNomeAluno">
    <br>
    <button onclick="guardar()">Guardar</button>
    <br>
    <br>
    Digite P ou I: <input type="text" id="inputParouImpar">
    <br>
    <button onclick="analisarEscolha()">Analisar</button>
    <br>
    <div id="texto"></div>

</body>

</html>

<script>
    let listaRaAluno = [];
    let listaNotas = [];

    function guardar() {
        let raAluno = inputRaAluno.value;
        let notaAluno = inputNomeAluno.value;
        listaRaAluno.push(raAluno);
        listaNotas.push(notaAluno);
    }

    function analisarEscolha() {
        let parOuImpar = inputParouImpar.value;

        if (parOuImpar.toUpperCase() != "P" && parOuImpar.toUpperCase() != "I") {
            alert("Valor invalido, entre com P ou I");
        } else {
            analisar();
        }

    }

    function analisar() {
        let parOuImpar = inputParouImpar.value;

        if (parOuImpar.toUpperCase() == "P") {
            analisarPares();

        } else {
            analisarImpar();
        }
    }

    function analisarPares() {
        let somaNotasRaPares = 0;
        let notasPares = [];
        let rasPares = [];
        let mediaNotasPares = 0;
        let qtdNotasAcimaDaMedia = 0;
        let somaNotasEncontradas = 0;

        for (let contador = 0; contador < listaRaAluno.length; contador++) {
            if (listaRaAluno[contador] % 2 == 0) {
                notasPares.push(listaNotas[contador]);
                rasPares.push(listaRaAluno[contador]);
                somaNotasRaPares = somaNotasRaPares + Number(listaNotas[contador]);
                mediaNotasPares = somaNotasRaPares / notasPares.length;
            }
        }

        console.log("Media notas pares", mediaNotasPares);

        if (notasPares.length > 1) {
            for (let contador = 0; contador < notasPares.length; contador++) {
                if (notasPares[contador] >= mediaNotasPares) {
                    qtdNotasAcimaDaMedia++;
                    somaNotasEncontradas = somaNotasEncontradas + Number(notasPares[contador])
                    texto.innerHTML += `Aluno com RA = ${rasPares[contador]} e nota ${notasPares[contador]} foi selecionado pois a média é ${mediaNotasPares}<br>`;
                }
            }

            alert(`${qtdNotasAcimaDaMedia} acima da media, e nova media é ${somaNotasEncontradas / qtdNotasAcimaDaMedia}`);
        } else {
            alert("Alunos com RAs pares não encontrados!")
        }


    }

    function analisarImpar() {
        let somaNotasRaImpar = 0;
        let notasImpar = [];
        let rasImpar = [];
        let mediaNotasImpar = 0;
        let qtdNotasAcimaDaMedia = 0;
        let somaNotasEncontradas = 0;

        for (let contador = 0; contador < listaRaAluno.length; contador++) {
            if (listaRaAluno[contador] % 2 != 0) {
                notasImpar.push(listaNotas[contador]);
                rasImpar.push(listaRaAluno[contador])
                somaNotasRaImpar = somaNotasRaImpar + Number(listaNotas[contador]);
                mediaNotasImpar = somaNotasRaImpar / notasImpar.length;
            }
        }

        console.log("Media notas impares", mediaNotasImpar);

        if (notasImpar.length > 1) {
            for (let contador = 0; contador < notasImpar.length; contador++) {
                if (notasImpar[contador] >= mediaNotasImpar) {
                    qtdNotasAcimaDaMedia++;
                    somaNotasEncontradas = somaNotasEncontradas + Number(notasImpar[contador])
                    texto.innerHTML += `Aluno com RA = ${rasImpar[contador]} e nota ${notasImpar[contador]} foi selecionado pois a média é ${mediaNotasImpar}<br>`;
                }
            }

            alert(`${qtdNotasAcimaDaMedia} acima da media, e nova media é ${somaNotasEncontradas / qtdNotasAcimaDaMedia}`);
        }else {
            alert("Alunos com RAs impares não encontrados!")
        }

    }

</script>

<!-- 12. A Professora Julia gosta de analisar as notas dos alunos pela média que um grupo obteve. Faça um programa que auxilie
     Julia a analisar as notas de seus alunos:

a) Tenha dois campos de entrada: um para o RA do aluno e outro para a nota dele.

b) Tenha um botão “guardar” que vai cadastrando todos os valores do item a)

c) Mais abaixo deve haver um campo para a Julia entrar com o valor “P” ou “I” , se ela digitar algo diferente disso emitir um alerta 
“valor invalido, entre com P ou I”. Deve haver também um botão "Analisar".

d) Quando o botão “Analisar” for clicado o programa deve fazer:

1-Se o valor entrado no item c) for “P” selecionar todos os alunos com RA par e calcular a média de suas notas. Se o valor entrado no 
item c) for “I” selecionar todos os alunos com RA ímpar e calcular a média de suas notas.

2- Para todas as notas cadastradas que forem maiores ou iguais a média calculada no item acima, mostrá-las uma embaixo da outra, da 
seguinte forma:

            Aluno com RA = xxxxxxx e nota 99,9 foi selecionado pois a média é 99,9

d) Ao final emitir uma mensagem com: quantidade de notas acima da média, e a nova média (média das notas maiores que a média do 
critério de seleção).

 -->